<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/handpose"></script>
<div id = "loginPage" class = "container text-center"> 
	
  <div class = "row"> 
     <div class = "col-md-4 col-md-offset-4">
    
     </div> 
  </div> 

</div>

<div id = "callPage" class = "call-page"> 
  <video id = "remoteVideo" autoplay></video>

  <div class = "row text-center"> 
     <div class = "col-md-12"> 
      <button id = "hangUpBtn" class = "btn-danger btn">Hang Up</button> 
     </div>	
  </div> 

</div>

<script>
var remoteVideo = document.querySelector('#remoteVideo'); 
navigator.mediaDevices.getUserMedia({video:true}).then(function(stream){
   remoteVideo.srcObject =(stream); 
   var model;
   handpose.load().then(m=>{
      model=m;
   });
   async function getHands() {
      const predictions = await model.estimateHands(remoteVideo);
      return predictions;
   }
   
   remoteVideo.getHands=getHands;
});
window.focused=true;
window.onblur=(e)=>{
    window.focused=false;
}
window.onfocus=(e)=>{
    window.focused=true;
}
</script>